<div class="wrapper">
  <aside class="modern-sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-logo">
        <div class="logo-icon">
          <i class="fas fa-book-open"></i>
        </div>
        <div class="logo-text">
          <h3 class="arabic-text">متقن</h3>
          <span class="logo-subtitle">منصة العلوم الشرعية</span>
        </div>
      </div>
      <button class="sidebar-toggle-btn d-lg-none" id="sidebarToggleClose">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <nav class="sidebar-nav">
      <a
        [routerLink]="['/home']"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="home"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(74, 144, 226, 0.2); color: #4a90e2"
        >
          <i class="fas fa-home"></i>
        </div>
        <span class="sidebar-text arabic-text">الرئيسية</span>
      </a>
      <a
        [routerLink]="['/dashboard/halaqa-list']"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="quran"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(46, 139, 87, 0.2); color: #2e8b57"
        >
          <i class="fas fa-book-open"></i>
        </div>
        <span class="sidebar-text arabic-text"> الحلقات المتاحة</span>
      </a>
      @if(user.role == 'Admin') {
      <a
        [routerLink]="['admin-Reports']"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="seerah"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(155, 89, 182, 0.2); color: #9b59b6"
        >
          <i class="fas fa-file-alt"></i>
        </div>
        <span class="sidebar-text arabic-text"> التقارير</span>
      </a>

      <a
        [routerLink]="['/dashboard/parent-list']"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="seerah"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(52, 152, 219, 0.2); color: #3498db"
        >
          <i class="fas fa-users"></i>
        </div>
        <span class="sidebar-text arabic-text"> أولياء الأومور</span>
      </a>
      <a
        [routerLink]="['/dashboard/teacher-list']"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="seerah"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(52, 152, 219, 0.2); color: #3498db"
        >
          <i class="fa-solid fa-person-chalkboard"></i>
        </div>
        <span class="sidebar-text arabic-text"> المعلمين</span>
      </a>
      <a
        [routerLink]="['/dashboard/student-list']"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="seerah"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(52, 152, 219, 0.2); color: #3498db"
        >
          <i class="fa-solid fa-graduation-cap"></i>
        </div>
        <span class="sidebar-text arabic-text"> الطلاب</span>
      </a>
      } @if(user.role == 'Parent') {
      <a
        [routerLink]="['parent',user.id,'children']"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="seerah"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(52, 152, 219, 0.2); color: #3498db"
        >
          <i class="fa-solid fa-graduation-cap"></i>
        </div>
        <span class="sidebar-text arabic-text"> أبنائي</span>
      </a>
      } @if(user.role == 'Student') {
      <a
        [routerLink]="['/student',user.id,'halaqa']"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="quran"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(52, 152, 219, 0.2); color: #3498db"
        >
          <i class="fas fa-book-open"></i>
        </div>
        <span class="sidebar-text arabic-text"> الحلقات المسجل بها</span>
      </a>
      } @if(user.role == 'Teacher') {
      <a
        [routerLink]="['/teacher',user.id,'halaqas']"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="quran"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(52, 152, 219, 0.2); color: #3498db"
        >
          <i class="fas fa-book-open"></i>
        </div>
        <span class="sidebar-text arabic-text"> الحلقات المعلم بها</span>
      </a>
      <a
        [routerLink]="['/progress-tracking',0]"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="quran"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(46, 139, 87, 0.2); color: #2e8b57"
        >
          <i class="fas fa-chart-line"></i>
        </div>
        <span class="sidebar-text arabic-text"> تقييم الطلاب </span>
      </a>
      }
      <a
        [routerLink]="['/dashboard/chatbot']"
        routerLinkActive="active"
        class="sidebar-link"
        data-module="chatbot"
      >
        <div
          class="sidebar-icon"
          style="background: rgba(142, 68, 173, 0.2); color: #9f51c0"
        >
          <i class="fas fa-comments"></i>
        </div>
        <span class="sidebar-text arabic-text">المساعد الذكي</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <div class="user-profile">
        <img
          src="https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=400"
          alt="User Avatar"
          class="user-avatar"
        />
        <div class="user-info">
          <div class="user-name arabic-text">{{ user.fullName }}</div>
          <div class="user-role arabic-text">
            {{ user.role.toLowerCase().includes('student') ? 'طالب' :
            user.role.toLowerCase().includes('parent') ? 'ولي الأومور'
            :user.role.toLowerCase().includes('teacher') ? 'معلم' : 'أدمن' }}
          </div>
        </div>
      </div>
      <button class="logout-btn" (click)="logout()">
        <i class="fas fa-sign-out-alt"></i>
        <span class="arabic-text">تسجيل الخروج</span>
      </button>
    </div>
  </aside>

  <div class="main-content" id="mainContent">
    <div class="container">
      <!-- <app-halaqa-details></app-halaqa-details> -->
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
